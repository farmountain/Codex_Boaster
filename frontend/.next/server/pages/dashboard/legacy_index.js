(()=>{var e={};e.id=851,e.ids=[851,888,660],e.modules={5265:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{Z:()=>y});var a=r(6689),i=r(1489),o=r(7436),l=r(997),u=e([i,o]);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}[i,o]=u.then?(await u)():u;let y=function(e){var t,r=e.auditLogs,n=(t=(0,a.useState)({user:"",action:"",status:""}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(t,2)||p(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=n[0],s=n[1],c=r.filter(function(e){return(!u.user||e.user===u.user)&&(!u.action||e.action===u.action)&&(!u.status||e.status===u.status)}),b=d(new Set(r.map(function(e){return e.user}))),y=d(new Set(r.map(function(e){return e.action}))),m=d(new Set(r.map(function(e){return e.status})));return(0,l.jsxs)(i.Box,{children:[(0,l.jsxs)(i.Box,{sx:{display:"flex",gap:2,mb:2},children:[(0,l.jsxs)(i.TextField,{select:!0,label:"User",value:u.user,onChange:function(e){return s(f(f({},u),{},{user:e.target.value}))},children:[l.jsx(i.MenuItem,{value:"",children:"All Users"}),b.map(function(e){return l.jsx(i.MenuItem,{value:e,children:e},e)})]}),(0,l.jsxs)(i.TextField,{select:!0,label:"Action",value:u.action,onChange:function(e){return s(f(f({},u),{},{action:e.target.value}))},children:[l.jsx(i.MenuItem,{value:"",children:"All Actions"}),y.map(function(e){return l.jsx(i.MenuItem,{value:e,children:e},e)})]}),(0,l.jsxs)(i.TextField,{select:!0,label:"Status",value:u.status,onChange:function(e){return s(f(f({},u),{},{status:e.target.value}))},children:[l.jsx(i.MenuItem,{value:"",children:"All Statuses"}),m.map(function(e){return l.jsx(i.MenuItem,{value:e,children:e},e)})]})]}),l.jsx(i.TableContainer,{component:i.Paper,children:(0,l.jsxs)(i.Table,{children:[l.jsx(i.TableHead,{children:(0,l.jsxs)(i.TableRow,{children:[l.jsx(i.TableCell,{children:"Timestamp"}),l.jsx(i.TableCell,{children:"User"}),l.jsx(i.TableCell,{children:"Action"}),l.jsx(i.TableCell,{children:"Resource"}),l.jsx(i.TableCell,{children:"Status"}),l.jsx(i.TableCell,{children:"Message"})]})}),l.jsx(i.TableBody,{children:c.map(function(e){return(0,l.jsxs)(i.TableRow,{children:[l.jsx(i.TableCell,{children:(0,o.format)(new Date(e.timestamp),"yyyy-MM-dd HH:mm:ss")}),l.jsx(i.TableCell,{children:e.user}),l.jsx(i.TableCell,{children:e.action}),l.jsx(i.TableCell,{children:e.resource}),l.jsx(i.TableCell,{children:l.jsx(i.Typography,{color:"success"===e.status?"success":"failed"===e.status?"error":"primary",children:e.status})}),l.jsx(i.TableCell,{children:e.message})]},e.timestamp)})})]})})]})};n()}catch(e){n(e)}})},4057:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{Z:()=>u}),r(6689);var a=r(1489),i=r(7436),o=r(997),l=e([a,i]);[a,i]=l.then?(await l)():l;let u=function(e){var t=e.logs;return o.jsx(a.TableContainer,{component:a.Paper,children:(0,o.jsxs)(a.Table,{children:[o.jsx(a.TableHead,{children:(0,o.jsxs)(a.TableRow,{children:[o.jsx(a.TableCell,{children:"Timestamp"}),o.jsx(a.TableCell,{children:"Level"}),o.jsx(a.TableCell,{children:"Message"}),o.jsx(a.TableCell,{children:"Context"})]})}),o.jsx(a.TableBody,{children:t.map(function(e){return(0,o.jsxs)(a.TableRow,{children:[o.jsx(a.TableCell,{children:(0,i.format)(new Date(e.timestamp),"yyyy-MM-dd HH:mm:ss")}),o.jsx(a.TableCell,{children:o.jsx(a.Typography,{color:"ERROR"===e.level?"error":"WARNING"===e.level?"warning":"INFO"===e.level?"primary":"secondary",children:e.level})}),o.jsx(a.TableCell,{children:e.message}),o.jsx(a.TableCell,{children:o.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:JSON.stringify(e.context,null,2)})})]},e.timestamp)})})]})})};n()}catch(e){n(e)}})},7548:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.d(t,{Z:()=>c}),r(6689);var a=r(1489),i=r(7436),o=r(997),l=e([a,i]);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}[a,i]=l.then?(await l)():l;let c=function(e){var t=e.metrics,r=t.reduce(function(e,t){return e[t.component]||(e[t.component]={}),e[t.component][t.metric]||(e[t.component][t.metric]=[]),e[t.component][t.metric].push(t),e},{});return o.jsx(a.Box,{children:Object.entries(r).map(function(e){var r=u(e,2),n=r[0],l=r[1];return(0,o.jsxs)(a.Paper,{sx:{mb:2},children:[o.jsx(a.Typography,{variant:"h6",sx:{p:2},children:n}),o.jsx(a.Grid,{container:!0,spacing:2,children:Object.entries(l).map(function(e){var r=u(e,2),l=r[0];r[1];var s=t.filter(function(e){return e.component===n&&e.metric===l}).sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()}).shift();return o.jsx(a.Grid,{item:!0,xs:12,sm:6,md:4,children:(0,o.jsxs)(a.Card,{children:[o.jsx(a.CardHeader,{title:l}),(0,o.jsxs)(a.CardContent,{children:[o.jsx(a.Typography,{variant:"h6",component:"div",children:null==s?void 0:s.value}),(0,o.jsxs)(a.Typography,{color:"text.secondary",sx:{mb:1},children:["Last updated: ",(0,i.format)(new Date((null==s?void 0:s.timestamp)||""),"HH:mm:ss")]}),o.jsx(a.LinearProgress,{variant:"determinate",value:100*((null==s?void 0:s.value)||0)})]})]})},l)})})]},n)})})};n()}catch(e){n(e)}})},5042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let n=require("@clerk/nextjs");r(6764);var a=r(997);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=process.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY;function s(e){var t=e.Component,r=e.pageProps;return u?a.jsx(n.ClerkProvider,{publishableKey:u,children:a.jsx(t,l({},r))}):a.jsx(t,l({},r))}},7910:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>v});var a=r(6689),i=r(1489),o=r(1175),l=r(9648),u=r(4057),s=r(7548),c=r(5265),f=r(997),d=e([i,l,u,s,c]);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}[i,l,u,s,c]=d.then?(await d)():d;var b=["children","value","index"];function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e){var t=e.children,r=e.value,n=e.index,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,b);return f.jsx("div",h(h({role:"tabpanel",hidden:r!==n,id:"dashboard-tabpanel-".concat(n),"aria-labelledby":"dashboard-tab-".concat(n)},a),{},{children:r===n&&f.jsx(i.Box,{sx:{p:3},children:t})}))}let v=function(){var e,t=(e=(0,a.useState)(0),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return y(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],d=(0,o.useQuery)("logs",function(){return l.default.get("/api/dashboard/logs").then(function(e){return e.data})}),p=d.data;d.isLoading;var b=(0,o.useQuery)("metrics",function(){return l.default.get("/api/dashboard/performance").then(function(e){return e.data})}),m=b.data;b.isLoading;var h=(0,o.useQuery)("auditLogs",function(){return l.default.get("/api/dashboard/audit").then(function(e){return e.data})}),v=h.data;return h.isLoading,(0,f.jsxs)(i.Paper,{sx:{p:3},children:[f.jsx(i.Typography,{variant:"h4",gutterBottom:!0,children:"Monitoring Dashboard"}),(0,f.jsxs)(i.Tabs,{value:r,onChange:function(e,t){return n(t)},sx:{mb:3},children:[f.jsx(i.Tab,{label:"Logs"}),f.jsx(i.Tab,{label:"Performance"}),f.jsx(i.Tab,{label:"Audit"})]}),f.jsx(j,{value:r,index:0,children:f.jsx(u.Z,{logs:p||[]})}),f.jsx(j,{value:r,index:1,children:f.jsx(s.Z,{metrics:m||[]})}),f.jsx(j,{value:r,index:2,children:f.jsx(c.Z,{auditLogs:v||[]})})]})};n()}catch(e){n(e)}})},1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},6479:(e,t,r)=>{"use strict";r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>d,getServerSideProps:()=>y,getStaticPaths:()=>b,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>P,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>g,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var a=r(7093),i=r(5244),o=r(1323),l=r(4344),u=r.n(l),s=r(5042),c=r(7910),f=e([c]);c=(f.then?(await f)():f)[0];let d=(0,o.l)(c,"default"),p=(0,o.l)(c,"getStaticProps"),b=(0,o.l)(c,"getStaticPaths"),y=(0,o.l)(c,"getServerSideProps"),m=(0,o.l)(c,"config"),h=(0,o.l)(c,"reportWebVitals"),j=(0,o.l)(c,"unstable_getStaticProps"),v=(0,o.l)(c,"unstable_getStaticPaths"),g=(0,o.l)(c,"unstable_getStaticParams"),x=(0,o.l)(c,"unstable_getServerProps"),S=(0,o.l)(c,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/dashboard/legacy_index",pathname:"/dashboard/legacy_index",bundlePath:"",filename:""},components:{App:s.default,Document:u()},userland:c});n()}catch(e){n(e)}})},6764:()=>{},5244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},1175:e=>{"use strict";e.exports=require("react-query")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5315:e=>{"use strict";e.exports=require("path")},1489:e=>{"use strict";e.exports=import("@mui/material")},9648:e=>{"use strict";e.exports=import("axios")},7436:e=>{"use strict";e.exports=import("date-fns")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[344],()=>r(6479));module.exports=n})();